command: docker swarm leave
short: スウォームからノードを削除します。
long: |-
  このコマンドをワーカー上で実行した場合、そのワーカーがスウォームから去ります（leave）。

  マネージャー上において `--force` オプションをつけて実行すると、スウォームからマネージャーを削除します。
  しかしスォーム内においてマネージャーの最低必要数（quorum）を維持しているかどうか、これを確認して再設定を行うことはしません。
  スウォームからマネージャーを削除する安全な方法は、マネージャーをワーカーに格下げし、最低必要数から除かれるように指示することです。
  そのときには `--force` オプションをつけずにコマンド実行します。
  `--force` オプションを利用するのは、マネージャーが去ってしまった後には、もうそのスウォームを利用しない場合にのみ利用するようにしてください。
  それはつまりシングルモードスウォームにおける場合などです。
usage: docker swarm leave [OPTIONS]
pname: docker swarm
plink: docker_swarm.yaml
options:
- option: force
  shorthand: f
  value_type: bool
  default_value: "false"
  description: ノードを強制的にスウォームから除きます。警告は無視します。
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
examples: |-
  以下のようなスウォームがあるとします。これはマネージャーから見たものです。

  ```bash
  $ docker node ls
  ID                           HOSTNAME  STATUS  AVAILABILITY  MANAGER STATUS
  7ln70fl22uw2dvjn2ft53m3q5    worker2   Ready   Active
  dkp8vy1dq1kxleu9g4u78tlag    worker1   Ready   Active
  dvfxp4zseq4s0rih1selh0d20 *  manager1  Ready   Active        Leader
  ```

  `worker2` を削除するには `worker2` そのものから以下のコマンドを実行します。

  ```bash
  $ docker swarm leave
  Node left the default swarm.
  ```

  このノードはノード一覧内にまだ含まれますが `down` として印づけされます。
  これ以降、スウォーム動作には関わりません。
  ただし `down` ノードがたくさん表示されると、ノード一覧がわかりにくくなります。
  アクティブでないノードを一覧から除くには [`node rm`](node_rm.md) コマンドを使います。
deprecated: false
min_api_version: "1.24"
experimental: false
experimentalcli: false
kubernetes: false
swarm: true

